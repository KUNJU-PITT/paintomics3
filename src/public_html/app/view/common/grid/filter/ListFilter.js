Ext.define("Ext.ux.grid.filter.ListFilter",{extend:"Ext.ux.grid.filter.Filter",alias:"gridfilter.list",phpMode:false,init:function(config){this.dt=Ext.create("Ext.util.DelayedTask",this.fireUpdate,this)},createMenu:function(config){var menu=Ext.create("Ext.ux.grid.menu.ListMenu",config);menu.on("checkchange",this.onCheckChange,this);return menu},getValue:function(){return this.menu.getSelected()},setValue:function(value){this.menu.setSelected(value);this.fireEvent("update",this)},isActivatable:function(){return this.getValue().length>0},getSerialArgs:function(){return{type:"list",value:this.phpMode?this.getValue().join(","):this.getValue()}},onCheckChange:function(){this.dt.delay(this.updateBuffer)},validateRecord:function(record){var valuesArray=this.getValue();return Ext.Array.indexOf(valuesArray,record.get(this.dataIndex))>-1}});