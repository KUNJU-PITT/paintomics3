Ext.define("Ext.upload.data.Connection",{extend:"Ext.data.Connection",progressCallback:null,request:function(options){var progressCallback=options.progress;if(progressCallback){this.progressCallback=progressCallback}this.callParent(arguments)},getXhrInstance:function(){var xhr=this.callParent(arguments);if(this.progressCallback){xhr.upload.onprogress=this.progressCallback}return xhr}});