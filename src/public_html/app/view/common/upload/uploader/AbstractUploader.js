Ext.define("Ext.upload.uploader.AbstractUploader",{mixins:{observable:"Ext.util.Observable"},config:{maxFileSize:5e7,url:"",timeout:60*1e3,contentType:"application/binary",filenameHeader:"X-File-Name",sizeHeader:"X-File-Size",typeHeader:"X-File-Type",params:{},extraHeaders:{},filenameEncoder:null,filenameEncoderHeader:"X-Filename-Encoder"},constructor:function(config){this.mixins.observable.constructor.call(this);this.addEvents({uploadfailure:true,uploadsuccess:true,uploadprogress:true});this.initConfig(config)},initHeaders:function(item){var headers=this.extraHeaders||{},filename=item.getFilename();var filenameEncoder=this.initFilenameEncoder();if(filenameEncoder){filename=filenameEncoder.encode(filename);headers[this.filenameEncoderHeader]=filenameEncoder.getType()}headers[this.filenameHeader]=filename;headers[this.sizeHeader]=item.getSize();headers[this.typeHeader]=item.getType();return headers},uploadItem:function(item){},abortUpload:function(){},initFilenameEncoder:function(){if(Ext.isString(this.filenameEncoder)){this.filenameEncoder=Ext.create(this.filenameEncoder)}if(Ext.isObject(this.filenameEncoder)){return this.filenameEncoder}return null}});