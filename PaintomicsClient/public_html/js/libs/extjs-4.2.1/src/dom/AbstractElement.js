Ext.define("Ext.dom.AbstractElement",{requires:["Ext.EventManager","Ext.dom.AbstractElement_static","Ext.dom.AbstractElement_insertion","Ext.dom.AbstractElement_style","Ext.dom.AbstractElement_traversal"],trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,inheritableStatics:{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,get:function(el){var me=this,document=window.document,El=Ext.dom.Element,cacheItem,docEl,extEl,dom,id;if(!el){return null}if(el.isFly){el=el.dom}if(typeof el=="string"){if(el==Ext.windowId){return El.get(window)}else if(el==Ext.documentId){return El.get(document)}cacheItem=Ext.cache[el];if(cacheItem&&cacheItem.skipGarbageCollection){extEl=cacheItem.el;return extEl}if(!(dom=document.getElementById(el))){return null}if(cacheItem&&cacheItem.el){extEl=Ext.updateCacheEntry(cacheItem,dom).el}else{extEl=new El(dom,!!cacheItem)}return extEl}else if(el.tagName){if(!(id=el.id)){id=Ext.id(el)}cacheItem=Ext.cache[id];if(cacheItem&&cacheItem.el){extEl=Ext.updateCacheEntry(cacheItem,el).el}else{extEl=new El(el,!!cacheItem)}return extEl}else if(el instanceof me){if(el!=me.docEl&&el!=me.winEl){id=el.id;cacheItem=Ext.cache[id];if(cacheItem){Ext.updateCacheEntry(cacheItem,document.getElementById(id)||el.dom)}}return el}else if(el.isComposite){return el}else if(Ext.isArray(el)){return me.select(el)}else if(el===document){if(!me.docEl){docEl=me.docEl=Ext.Object.chain(El.prototype);docEl.dom=document;docEl.el=docEl;docEl.id=Ext.id(document);me.addToCache(docEl)}return me.docEl}else if(el===window){if(!me.winEl){me.winEl=Ext.Object.chain(El.prototype);me.winEl.dom=window;me.winEl.id=Ext.id(window);me.addToCache(me.winEl)}return me.winEl}return null},addToCache:function(el,id){if(el){Ext.addCacheEntry(id,el)}return el},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var clsList,clsHash={},i,length,j,listLength,clsName,result=[],changed=false,trimRe=this.trimRe,whitespaceRe=this.whitespaceRe;for(i=0,length=arguments.length;i<length;i++){clsList=arguments[i];if(Ext.isString(clsList)){clsList=clsList.replace(trimRe,"").split(whitespaceRe)}if(clsList){for(j=0,listLength=clsList.length;j<listLength;j++){clsName=clsList[j];if(!clsHash[clsName]){if(i){changed=true}clsHash[clsName]=true}}}}for(clsName in clsHash){result.push(clsName)}result.changed=changed;return result},removeCls:function(existingClsList,removeClsList){var clsHash={},i,length,clsName,result=[],changed=false,whitespaceRe=this.whitespaceRe;if(existingClsList){if(Ext.isString(existingClsList)){existingClsList=existingClsList.replace(this.trimRe,"").split(whitespaceRe)}for(i=0,length=existingClsList.length;i<length;i++){clsHash[existingClsList[i]]=true}}if(removeClsList){if(Ext.isString(removeClsList)){removeClsList=removeClsList.split(whitespaceRe)}for(i=0,length=removeClsList.length;i<length;i++){clsName=removeClsList[i];if(clsHash[clsName]){changed=true;delete clsHash[clsName]}}}for(clsName in clsHash){result.push(clsName)}result.changed=changed;return result},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(element,forceNew){var me=this,dom=typeof element=="string"?document.getElementById(element):element,id;me.el=me;if(!dom){return null}id=dom.id;if(!forceNew&&id&&Ext.cache[id]){return Ext.cache[id].el}me.dom=dom;me.id=id||Ext.id(dom);me.self.addToCache(me)},set:function(o,useSet){var el=this.dom,attr,value;for(attr in o){if(o.hasOwnProperty(attr)){value=o[attr];if(attr=="style"){this.applyStyles(value)}else if(attr=="cls"){el.className=value}else if(useSet!==false){if(value===undefined){el.removeAttribute(attr)}else{el.setAttribute(attr,value)}}else{el[attr]=value}}}return this},defaultUnit:"px",is:function(simpleSelector){return Ext.DomQuery.is(this.dom,simpleSelector)},getValue:function(asNumber){var val=this.dom.value;return asNumber?parseInt(val,10):val},remove:function(){var me=this,dom=me.dom;if(me.isAnimate){me.stopAnimation()}if(dom){Ext.removeNode(dom);delete me.dom}},contains:function(el){if(!el){return false}var me=this,dom=el.dom||el;return dom===me.dom||Ext.dom.AbstractElement.isAncestor(me.dom,dom)},getAttribute:function(name,ns){var dom=this.dom;return dom.getAttributeNS(ns,name)||dom.getAttribute(ns+":"+name)||dom.getAttribute(name)||dom[name]},update:function(html){if(this.dom){this.dom.innerHTML=html}return this},setHTML:function(html){if(this.dom){this.dom.innerHTML=html}return this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){this.setVisible(false);return this},show:function(){this.setVisible(true);return this},setVisible:function(visible,animate){var me=this,statics=me.self,mode=me.getVisibilityMode(),prefix=Ext.baseCSSPrefix;switch(mode){case statics.VISIBILITY:me.removeCls([prefix+"hidden-display",prefix+"hidden-offsets"]);me[visible?"removeCls":"addCls"](prefix+"hidden-visibility");break;case statics.DISPLAY:me.removeCls([prefix+"hidden-visibility",prefix+"hidden-offsets"]);me[visible?"removeCls":"addCls"](prefix+"hidden-display");break;case statics.OFFSETS:me.removeCls([prefix+"hidden-visibility",prefix+"hidden-display"]);me[visible?"removeCls":"addCls"](prefix+"hidden-offsets");break}return me},getVisibilityMode:function(){var data=(this.$cache||this.getCache()).data,visMode=data.visibilityMode;if(visMode===undefined){data.visibilityMode=visMode=this.self.DISPLAY}return visMode},setVisibilityMode:function(mode){(this.$cache||this.getCache()).data.visibilityMode=mode;return this},getCache:function(){var me=this,id=me.dom.id||Ext.id(me.dom);me.$cache=Ext.cache[id]||Ext.addCacheEntry(id,null,me.dom);return me.$cache}},function(){var AbstractElement=this;Ext.getDetachedBody=function(){var detachedEl=AbstractElement.detachedBodyEl;if(!detachedEl){detachedEl=document.createElement("div");AbstractElement.detachedBodyEl=detachedEl=new AbstractElement.Fly(detachedEl);detachedEl.isDetachedBody=true}return detachedEl};Ext.getElementById=function(id){var el=document.getElementById(id),detachedBodyEl;if(!el&&(detachedBodyEl=AbstractElement.detachedBodyEl)){el=detachedBodyEl.dom.querySelector("#"+Ext.escapeId(id))}return el};Ext.get=function(el){return Ext.dom.Element.get(el)};this.addStatics({Fly:new Ext.Class({extend:AbstractElement,isFly:true,constructor:function(dom){this.dom=dom;this.el=this},attach:function(dom){this.dom=dom;this.$cache=dom.id?Ext.cache[dom.id]:null;return this}}),_flyweights:{},fly:function(dom,named){var fly=null,_flyweights=AbstractElement._flyweights;named=named||"_global";dom=Ext.getDom(dom);if(dom){fly=_flyweights[named]||(_flyweights[named]=new AbstractElement.Fly);fly.dom=dom;fly.$cache=dom.id?Ext.cache[dom.id]:null}return fly}});Ext.fly=function(){return AbstractElement.fly.apply(AbstractElement,arguments)};(function(proto){proto.destroy=proto.remove;if(document.querySelector){proto.getById=function(id,asDom){var dom=document.getElementById(id)||this.dom.querySelector("#"+Ext.escapeId(id));return asDom?dom:dom?Ext.get(dom):null}}else{proto.getById=function(id,asDom){var dom=document.getElementById(id);return asDom?dom:dom?Ext.get(dom):null}}})(this.prototype)});