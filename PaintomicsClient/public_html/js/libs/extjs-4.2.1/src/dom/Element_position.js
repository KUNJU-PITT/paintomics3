Ext.define("Ext.dom.Element_position",{override:"Ext.dom.Element"},function(){var flyInstance,Element=this,LEFT="left",RIGHT="right",TOP="top",BOTTOM="bottom",POSITION="position",STATIC="static",RELATIVE="relative",ZINDEX="z-index",BODY="BODY",PADDING="padding",BORDER="border",SLEFT="-left",SRIGHT="-right",STOP="-top",SBOTTOM="-bottom",SWIDTH="-width",borders={l:BORDER+SLEFT+SWIDTH,r:BORDER+SRIGHT+SWIDTH,t:BORDER+STOP+SWIDTH,b:BORDER+SBOTTOM+SWIDTH},paddings={l:PADDING+SLEFT,r:PADDING+SRIGHT,t:PADDING+STOP,b:PADDING+SBOTTOM},paddingsTLRB=[paddings.l,paddings.r,paddings.t,paddings.b],bordersTLRB=[borders.l,borders.r,borders.t,borders.b],round=Math.round,doc=document,fly=function(el){if(!flyInstance){flyInstance=new Ext.Element.Fly}flyInstance.attach(el);return flyInstance};Element.override({pxRe:/^\d+(?:\.\d*)?px$/i,inheritableStatics:{getX:function(el){return Element.getXY(el)[0]},getXY:function(el){var bd=doc.body,docEl=doc.documentElement,leftBorder=0,topBorder=0,ret=[0,0],box,scroll;el=Ext.getDom(el);if(el!=doc&&el!=bd){if(Ext.isIE){try{box=el.getBoundingClientRect();topBorder=docEl.clientTop||bd.clientTop;leftBorder=docEl.clientLeft||bd.clientLeft}catch(ex){box={left:0,top:0}}}else{box=el.getBoundingClientRect()}scroll=fly(doc).getScroll();ret=[round(box.left+scroll.left-leftBorder),round(box.top+scroll.top-topBorder)]}return ret},getY:function(el){return Element.getXY(el)[1]},setX:function(el,x){Element.setXY(el,[x,false])},setXY:function(el,xy){(el=Ext.fly(el,"_setXY")).position();var pts=el.translatePoints(xy),style=el.dom.style,pos;style.right="auto";for(pos in pts){if(!isNaN(pts[pos])){style[pos]=pts[pos]+"px"}}},setY:function(el,y){Element.setXY(el,[false,y])}},center:function(centerIn){return this.alignTo(centerIn||doc,"c-c")},clearPositioning:function(value){value=value||"";return this.setStyle({left:value,right:value,top:value,bottom:value,"z-index":"",position:STATIC})},getAnchorToXY:function(el,anchor,local,mySize){return el.getAnchorXY(anchor,local,mySize)},getBottom:function(local){return(local?this.getLocalY():this.getY())+this.getHeight()},getBorderPadding:function(){var paddingWidth=this.getStyle(paddingsTLRB),bordersWidth=this.getStyle(bordersTLRB);return{beforeX:(parseFloat(bordersWidth[borders.l])||0)+(parseFloat(paddingWidth[paddings.l])||0),afterX:(parseFloat(bordersWidth[borders.r])||0)+(parseFloat(paddingWidth[paddings.r])||0),beforeY:(parseFloat(bordersWidth[borders.t])||0)+(parseFloat(paddingWidth[paddings.t])||0),afterY:(parseFloat(bordersWidth[borders.b])||0)+(parseFloat(paddingWidth[paddings.b])||0)}},getCenterXY:function(){return this.getAlignToXY(doc,"c-c")},getLeft:function(local){return local?this.getLocalX():this.getX()},getLocalX:function(){var me=this,offsetParent=me.dom.offsetParent,x=me.getStyle("left");if(!x||x==="auto"){x=0}else if(me.pxRe.test(x)){x=parseFloat(x)}else{x=me.getX();if(offsetParent){x-=Element.getX(offsetParent)}}return x},getLocalXY:function(){var me=this,offsetParent=me.dom.offsetParent,style=me.getStyle(["left","top"]),x=style.left,y=style.top;if(!x||x==="auto"){x=0}else if(me.pxRe.test(x)){x=parseFloat(x)}else{x=me.getX();if(offsetParent){x-=Element.getX(offsetParent)}}if(!y||y==="auto"){y=0}else if(me.pxRe.test(y)){y=parseFloat(y)}else{y=me.getY();if(offsetParent){y-=Element.getY(offsetParent)}}return[x,y]},getLocalY:function(){var me=this,offsetParent=me.dom.offsetParent,y=me.getStyle("top");if(!y||y==="auto"){y=0}else if(me.pxRe.test(y)){y=parseFloat(y)}else{y=me.getY();if(offsetParent){y-=Element.getY(offsetParent)}}return y},getPageBox:function(getRegion){var me=this,dom=me.dom,isDoc=dom.nodeName==BODY,w=isDoc?Ext.Element.getViewWidth():dom.offsetWidth,h=isDoc?Ext.Element.getViewHeight():dom.offsetHeight,xy=me.getXY(),t=xy[1],r=xy[0]+w,b=xy[1]+h,l=xy[0];if(getRegion){return new Ext.util.Region(t,r,b,l)}else{return{left:l,top:t,width:w,height:h,right:r,bottom:b}}},getPositioning:function(autoPx){var styles=this.getStyle(["left","top","position","z-index"]),dom=this.dom;if(autoPx){if(styles.left==="auto"){styles.left=dom.offsetLeft+"px"}if(styles.top==="auto"){styles.top=dom.offsetTop+"px"}}return styles},getRight:function(local){return(local?this.getLocalX():this.getX())+this.getWidth()},getTop:function(local){return local?this.getLocalY():this.getY()},getX:function(){return Element.getX(this.dom)},getXY:function(){return Element.getXY(this.dom)},getY:function(){return Element.getY(this.dom)},moveTo:function(x,y,animate){return this.setXY([x,y],animate)},position:function(pos,zIndex,x,y){var me=this;if(!pos&&me.isStyle(POSITION,STATIC)){me.setStyle(POSITION,RELATIVE)}else if(pos){me.setStyle(POSITION,pos)}if(zIndex){me.setStyle(ZINDEX,zIndex)}if(x||y){me.setXY([x||false,y||false])}},setBottom:function(bottom){this.dom.style[BOTTOM]=this.addUnits(bottom);return this},setBounds:function(x,y,width,height,animate){return this.setBox({x:x,y:y,width:width,height:height},animate)},setLeft:function(left){this.dom.style[LEFT]=this.addUnits(left);return this},setLeftTop:function(left,top){var me=this,style=me.dom.style;style.left=me.addUnits(left);style.top=me.addUnits(top);return me},setLocalX:function(x){var style=this.dom.style;style.right="auto";style.left=x===null?"auto":x+"px"},setLocalXY:function(x,y){var style=this.dom.style;style.right="auto";if(x&&x.length){y=x[1];x=x[0]}if(x===null){style.left="auto"}else if(x!==undefined){style.left=x+"px"}if(y===null){style.top="auto"}else if(y!==undefined){style.top=y+"px"}},setLocalY:function(y){this.dom.style.top=y===null?"auto":y+"px"},setLocation:function(x,y,animate){return this.setXY([x,y],animate)},setPositioning:function(pc){return this.setStyle(pc)},setRight:function(right){this.dom.style[RIGHT]=this.addUnits(right);return this},setTop:function(top){this.dom.style[TOP]=this.addUnits(top);return this},setX:function(x,animate){return this.setXY([x,this.getY()],animate)},setXY:function(xy,animate){var me=this;if(!animate||!me.anim){Element.setXY(me.dom,xy)}else{if(!Ext.isObject(animate)){animate={}}me.animate(Ext.applyIf({to:{x:xy[0],y:xy[1]}},animate))}return this},setY:function(y,animate){return this.setXY([this.getX(),y],animate)}});Element.getTrueXY=Element.getXY});