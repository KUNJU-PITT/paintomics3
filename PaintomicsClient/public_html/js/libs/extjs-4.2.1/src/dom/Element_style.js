Ext.define("Ext.dom.Element_style",{override:"Ext.dom.Element"},function(){var Element=this,view=document.defaultView,adjustDirect2DTableRe=/table-row|table-.*-group/,INTERNAL="_internal",HIDDEN="hidden",HEIGHT="height",WIDTH="width",ISCLIPPED="isClipped",OVERFLOW="overflow",OVERFLOWX="overflow-x",OVERFLOWY="overflow-y",ORIGINALCLIP="originalClip",DOCORBODYRE=/#document|body/i,styleHooks,verticalStyleHooks90,verticalStyleHooks270,edges,k,edge,borderWidth;if(!view||!view.getComputedStyle){Element.prototype.getStyle=function(property,inline){var me=this,dom=me.dom,multiple=typeof property!="string",hooks=me.styleHooks,prop=property,props=prop,len=1,isInline=inline,camel,domStyle,values,hook,out,style,i;if(multiple){values={};prop=props[0];i=0;if(!(len=props.length)){return values}}if(!dom||dom.documentElement){return values||""}domStyle=dom.style;if(inline){style=domStyle}else{style=dom.currentStyle;if(!style){isInline=true;style=domStyle}}do{hook=hooks[prop];if(!hook){hooks[prop]=hook={name:Element.normalize(prop)}}if(hook.get){out=hook.get(dom,me,isInline,style)}else{camel=hook.name;if(hook.canThrow){try{out=style[camel]}catch(e){out=""}}else{out=style?style[camel]:""}}if(!multiple){return out}values[prop]=out;prop=props[++i]}while(i<len);return values}}Element.override({getHeight:function(contentHeight,preciseHeight){var me=this,hidden=me.isStyle("display","none"),height,floating;if(hidden){return 0}height=me.dom.offsetHeight;if(Ext.supports.Direct2DBug){floating=me.adjustDirect2DDimension(HEIGHT);if(preciseHeight){height+=floating}else if(floating>0&&floating<.5){height++}}if(contentHeight){height-=me.getBorderWidth("tb")+me.getPadding("tb")}return height<0?0:height},getWidth:function(contentWidth,preciseWidth){var me=this,dom=me.dom,hidden=me.isStyle("display","none"),rect,width,floating;if(hidden){return 0}if(preciseWidth&&Ext.supports.BoundingClientRect){rect=dom.getBoundingClientRect();width=me.vertical&&!Ext.isIE9&&!Ext.supports.RotatedBoundingClientRect?rect.bottom-rect.top:rect.right-rect.left}else{width=dom.offsetWidth}if(Ext.supports.Direct2DBug&&!me.vertical){floating=me.adjustDirect2DDimension(WIDTH);if(preciseWidth){width+=floating}else if(floating>0&&floating<.5){width++}}if(contentWidth){width-=me.getBorderWidth("lr")+me.getPadding("lr")}return width<0?0:width},setWidth:function(width,animate){var me=this;width=me.adjustWidth(width);if(!animate||!me.anim){me.dom.style.width=me.addUnits(width)}else{if(!Ext.isObject(animate)){animate={}}me.animate(Ext.applyIf({to:{width:width}},animate))}return me},setHeight:function(height,animate){var me=this;height=me.adjustHeight(height);if(!animate||!me.anim){me.dom.style.height=me.addUnits(height)}else{if(!Ext.isObject(animate)){animate={}}me.animate(Ext.applyIf({to:{height:height}},animate))}return me},applyStyles:function(style){Ext.DomHelper.applyStyles(this.dom,style);return this},setSize:function(width,height,animate){var me=this;if(Ext.isObject(width)){animate=height;height=width.height;width=width.width}width=me.adjustWidth(width);height=me.adjustHeight(height);if(!animate||!me.anim){me.dom.style.width=me.addUnits(width);me.dom.style.height=me.addUnits(height)}else{if(animate===true){animate={}}me.animate(Ext.applyIf({to:{width:width,height:height}},animate))}return me},getViewSize:function(){var me=this,dom=me.dom,isDoc=DOCORBODYRE.test(dom.nodeName),ret;if(isDoc){ret={width:Element.getViewWidth(),height:Element.getViewHeight()}}else{ret={width:dom.clientWidth,height:dom.clientHeight}}return ret},getSize:function(contentSize){return{width:this.getWidth(contentSize),height:this.getHeight(contentSize)}},adjustWidth:function(width){var me=this,isNum=typeof width=="number";if(isNum&&me.autoBoxAdjust&&!me.isBorderBox()){width-=me.getBorderWidth("lr")+me.getPadding("lr")}return isNum&&width<0?0:width},adjustHeight:function(height){var me=this,isNum=typeof height=="number";if(isNum&&me.autoBoxAdjust&&!me.isBorderBox()){height-=me.getBorderWidth("tb")+me.getPadding("tb")}return isNum&&height<0?0:height},getColor:function(attr,defaultValue,prefix){var v=this.getStyle(attr),color=prefix||prefix===""?prefix:"#",h,len,i=0;if(!v||/transparent|inherit/.test(v)){return defaultValue}if(/^r/.test(v)){v=v.slice(4,v.length-1).split(",");len=v.length;for(;i<len;i++){h=parseInt(v[i],10);color+=(h<16?"0":"")+h.toString(16)}}else{v=v.replace("#","");color+=v.length==3?v.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):v}return color.length>5?color.toLowerCase():defaultValue},setOpacity:function(opacity,animate){var me=this;if(!me.dom){return me}if(!animate||!me.anim){me.setStyle("opacity",opacity)}else{if(typeof animate!="object"){animate={duration:350,easing:"ease-in"}}me.animate(Ext.applyIf({to:{opacity:opacity}},animate))}return me},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(dimension){var me=this,dom=me.dom,display=me.getStyle("display"),inlineDisplay=dom.style.display,inlinePosition=dom.style.position,originIndex=dimension===WIDTH?0:1,currentStyle=dom.currentStyle,floating;if(display==="inline"){dom.style.display="inline-block"}dom.style.position=display.match(adjustDirect2DTableRe)?"absolute":"static";floating=(parseFloat(currentStyle[dimension])||parseFloat(currentStyle.msTransformOrigin.split(" ")[originIndex])*2)%1;dom.style.position=inlinePosition;if(display==="inline"){dom.style.display=inlineDisplay}return floating},clip:function(){var me=this,data=(me.$cache||me.getCache()).data,style;if(!data[ISCLIPPED]){data[ISCLIPPED]=true;style=me.getStyle([OVERFLOW,OVERFLOWX,OVERFLOWY]);data[ORIGINALCLIP]={o:style[OVERFLOW],x:style[OVERFLOWX],y:style[OVERFLOWY]};me.setStyle(OVERFLOW,HIDDEN);me.setStyle(OVERFLOWX,HIDDEN);me.setStyle(OVERFLOWY,HIDDEN)}return me},unclip:function(){var me=this,data=(me.$cache||me.getCache()).data,clip;if(data[ISCLIPPED]){data[ISCLIPPED]=false;clip=data[ORIGINALCLIP];if(clip.o){me.setStyle(OVERFLOW,clip.o)}if(clip.x){me.setStyle(OVERFLOWX,clip.x)}if(clip.y){me.setStyle(OVERFLOWY,clip.y)}}return me},boxWrap:function(cls){cls=cls||Ext.baseCSSPrefix+"box";var el=Ext.get(this.insertHtml("beforeBegin","<div class='"+cls+"'>"+Ext.String.format(Element.boxMarkup,cls)+"</div>"));Ext.DomQuery.selectNode("."+cls+"-mc",el.dom).appendChild(this.dom);return el},getComputedHeight:function(){var me=this,h=Math.max(me.dom.offsetHeight,me.dom.clientHeight);if(!h){h=parseFloat(me.getStyle(HEIGHT))||0;if(!me.isBorderBox()){h+=me.getFrameWidth("tb")}}return h},getComputedWidth:function(){var me=this,w=Math.max(me.dom.offsetWidth,me.dom.clientWidth);if(!w){w=parseFloat(me.getStyle(WIDTH))||0;if(!me.isBorderBox()){w+=me.getFrameWidth("lr")}}return w},getFrameWidth:function(sides,onlyContentBox){return onlyContentBox&&this.isBorderBox()?0:this.getPadding(sides)+this.getBorderWidth(sides)},addClsOnOver:function(className,testFn,scope){var me=this,dom=me.dom,hasTest=Ext.isFunction(testFn);me.hover(function(){if(hasTest&&testFn.call(scope||me,me)===false){return}Ext.fly(dom,INTERNAL).addCls(className)},function(){Ext.fly(dom,INTERNAL).removeCls(className)});return me},addClsOnFocus:function(className,testFn,scope){var me=this,dom=me.dom,hasTest=Ext.isFunction(testFn);me.on("focus",function(){if(hasTest&&testFn.call(scope||me,me)===false){return false}Ext.fly(dom,INTERNAL).addCls(className)});me.on("blur",function(){Ext.fly(dom,INTERNAL).removeCls(className)});return me},addClsOnClick:function(className,testFn,scope){var me=this,dom=me.dom,hasTest=Ext.isFunction(testFn);me.on("mousedown",function(){if(hasTest&&testFn.call(scope||me,me)===false){return false}Ext.fly(dom,INTERNAL).addCls(className);var d=Ext.getDoc(),fn=function(){Ext.fly(dom,INTERNAL).removeCls(className);d.removeListener("mouseup",fn)};d.on("mouseup",fn)});return me},getStyleSize:function(){var me=this,d=this.dom,isDoc=DOCORBODYRE.test(d.nodeName),s,w,h;if(isDoc){return{width:Element.getViewWidth(),height:Element.getViewHeight()}}s=me.getStyle([HEIGHT,WIDTH],true);if(s.width&&s.width!="auto"){w=parseFloat(s.width);if(me.isBorderBox()){w-=me.getFrameWidth("lr")}}if(s.height&&s.height!="auto"){h=parseFloat(s.height);if(me.isBorderBox()){h-=me.getFrameWidth("tb")}}return{width:w||me.getWidth(true),height:h||me.getHeight(true)}},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable"},selectable:function(){var me=this;me.dom.unselectable="";me.removeCls(Element.unselectableCls);me.addCls(Element.selectableCls);return me},unselectable:function(){var me=this;if(Ext.isOpera){me.dom.unselectable="on"}me.removeCls(Element.selectableCls);me.addCls(Element.unselectableCls);return me},setVertical:function(angle,cls){var me=this,proto=Element.prototype,hooks;me.vertical=true;if(cls){me.addCls(me.verticalCls=cls)}me.setWidth=proto.setHeight;me.setHeight=proto.setWidth;if(!Ext.isIE9m){me.getWidth=proto.getHeight;me.getHeight=proto.getWidth}me.styleHooks=angle===270?Element.prototype.verticalStyleHooks270:Element.prototype.verticalStyleHooks90},setHorizontal:function(){var me=this,cls=me.verticalCls;delete me.vertical;if(cls){delete me.verticalCls;me.removeCls(cls)}delete me.setWidth;delete me.setHeight;if(!Ext.isIE9m){delete me.getWidth;delete me.getHeight}delete me.styleHooks}});Element.prototype.styleHooks=styleHooks=Ext.dom.AbstractElement.prototype.styleHooks;Element.prototype.verticalStyleHooks90=verticalStyleHooks90=Ext.Object.chain(Element.prototype.styleHooks);Element.prototype.verticalStyleHooks270=verticalStyleHooks270=Ext.Object.chain(Element.prototype.styleHooks);verticalStyleHooks90.width={name:"height"};verticalStyleHooks90.height={name:"width"};verticalStyleHooks90["margin-top"]={name:"marginLeft"};verticalStyleHooks90["margin-right"]={name:"marginTop"};verticalStyleHooks90["margin-bottom"]={name:"marginRight"};verticalStyleHooks90["margin-left"]={name:"marginBottom"};verticalStyleHooks90["padding-top"]={name:"paddingLeft"};verticalStyleHooks90["padding-right"]={name:"paddingTop"};verticalStyleHooks90["padding-bottom"]={name:"paddingRight"};verticalStyleHooks90["padding-left"]={name:"paddingBottom"};verticalStyleHooks90["border-top"]={name:"borderLeft"};verticalStyleHooks90["border-right"]={name:"borderTop"};verticalStyleHooks90["border-bottom"]={name:"borderRight"};verticalStyleHooks90["border-left"]={name:"borderBottom"};verticalStyleHooks270.width={name:"height"};verticalStyleHooks270.height={name:"width"};verticalStyleHooks270["margin-top"]={name:"marginRight"};verticalStyleHooks270["margin-right"]={name:"marginBottom"};verticalStyleHooks270["margin-bottom"]={name:"marginLeft"};verticalStyleHooks270["margin-left"]={name:"marginTop"};verticalStyleHooks270["padding-top"]={name:"paddingRight"};verticalStyleHooks270["padding-right"]={name:"paddingBottom"};verticalStyleHooks270["padding-bottom"]={name:"paddingLeft"};verticalStyleHooks270["padding-left"]={name:"paddingTop"};verticalStyleHooks270["border-top"]={name:"borderRight"};verticalStyleHooks270["border-right"]={name:"borderBottom"};verticalStyleHooks270["border-bottom"]={name:"borderLeft"};verticalStyleHooks270["border-left"]={name:"borderTop"};if(Ext.isIE7m){styleHooks.fontSize=styleHooks["font-size"]={name:"fontSize",canThrow:true};styleHooks.fontStyle=styleHooks["font-style"]={name:"fontStyle",canThrow:true};styleHooks.fontFamily=styleHooks["font-family"]={name:"fontFamily",canThrow:true}}if(Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8){function getBorderWidth(dom,el,inline,style){if(style[this.styleName]=="none"){return"0px"}return style[this.name]}edges=["Top","Right","Bottom","Left"];k=edges.length;while(k--){edge=edges[k];borderWidth="border"+edge+"Width";styleHooks["border-"+edge.toLowerCase()+"-width"]=styleHooks[borderWidth]={name:borderWidth,styleName:"border"+edge+"Style",get:getBorderWidth}}}Ext.getDoc().on("selectstart",function(ev,dom){var doc=document.documentElement,selectableCls=Element.selectableCls,unselectableCls=Element.unselectableCls,tagName=dom&&dom.tagName;tagName=tagName&&tagName.toLowerCase();if(tagName==="input"||tagName==="textarea"){return}while(dom&&dom.nodeType===1&&dom!==doc){var el=Ext.fly(dom);if(el.hasCls(selectableCls)){return}if(el.hasCls(unselectableCls)){ev.stopEvent();return}dom=dom.parentNode}})});Ext.onReady(function(){var opacityRe=/alpha\(opacity=(.*)\)/i,trimRe=/^\s+|\s+$/g,hooks=Ext.dom.Element.prototype.styleHooks;hooks.opacity={name:"opacity",afterSet:function(dom,value,el){if(el.isLayer){el.onOpacitySet(value)}}};if(!Ext.supports.Opacity&&Ext.isIE){Ext.apply(hooks.opacity,{get:function(dom){var filter=dom.style.filter,match,opacity;if(filter.match){match=filter.match(opacityRe);if(match){opacity=parseFloat(match[1]);if(!isNaN(opacity)){return opacity?opacity/100:0}}}return 1},set:function(dom,value){var style=dom.style,val=style.filter.replace(opacityRe,"").replace(trimRe,"");style.zoom=1;if(typeof value=="number"&&value>=0&&value<1){value*=100;style.filter=val+(val.length?" ":"")+"alpha(opacity="+value+")"}else{style.filter=val}}})}});