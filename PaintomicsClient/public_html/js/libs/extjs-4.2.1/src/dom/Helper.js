Ext.define("Ext.dom.Helper",function(){var afterbegin="afterbegin",afterend="afterend",beforebegin="beforebegin",beforeend="beforeend",ts="<table>",te="</table>",tbs=ts+"<tbody>",tbe="</tbody>"+te,trs=tbs+"<tr>",tre="</tr>"+tbe,detachedDiv=document.createElement("div"),bbValues=["BeforeBegin","previousSibling"],aeValues=["AfterEnd","nextSibling"],bb_ae_PositionHash={beforebegin:bbValues,afterend:aeValues},fullPositionHash={beforebegin:bbValues,afterend:aeValues,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{extend:"Ext.dom.AbstractHelper",requires:["Ext.dom.AbstractElement"],tableRe:/^(?:table|thead|tbody|tr|td)$/i,tableElRe:/td|tr|tbody|thead/i,useDom:false,createDom:function(o,parentNode){var el,doc=document,useSet,attr,val,cn,i,l;if(Ext.isArray(o)){el=doc.createDocumentFragment();for(i=0,l=o.length;i<l;i++){this.createDom(o[i],el)}}else if(typeof o=="string"){el=doc.createTextNode(o)}else{el=doc.createElement(o.tag||"div");useSet=!!el.setAttribute;for(attr in o){if(!this.confRe.test(attr)){val=o[attr];if(attr=="cls"){el.className=val}else{if(useSet){el.setAttribute(attr,val)}else{el[attr]=val}}}}Ext.DomHelper.applyStyles(el,o.style);if(cn=o.children||o.cn){this.createDom(cn,el)}else if(o.html){el.innerHTML=o.html}}if(parentNode){parentNode.appendChild(el)}return el},ieTable:function(depth,openingTags,htmlContent,closingTags){detachedDiv.innerHTML=[openingTags,htmlContent,closingTags].join("");var i=-1,el=detachedDiv,ns;while(++i<depth){el=el.firstChild}ns=el.nextSibling;if(ns){ns=el;el=document.createDocumentFragment();while(ns){nx=ns.nextSibling;el.appendChild(ns);ns=nx}}return el},insertIntoTable:function(tag,where,destinationEl,html){var node,before,bb=where==beforebegin,ab=where==afterbegin,be=where==beforeend,ae=where==afterend;if(tag=="td"&&(ab||be)||!this.tableElRe.test(tag)&&(bb||ae)){return null}before=bb?destinationEl:ae?destinationEl.nextSibling:ab?destinationEl.firstChild:null;if(bb||ae){destinationEl=destinationEl.parentNode}if(tag=="td"||tag=="tr"&&(be||ab)){node=this.ieTable(4,trs,html,tre)}else if((tag=="tbody"||tag=="thead")&&(be||ab)||tag=="tr"&&(bb||ae)){node=this.ieTable(3,tbs,html,tbe)}else{node=this.ieTable(2,ts,html,te)}destinationEl.insertBefore(node,before);return node},createContextualFragment:function(html){var fragment=document.createDocumentFragment(),length,childNodes;detachedDiv.innerHTML=html;childNodes=detachedDiv.childNodes;length=childNodes.length;while(length--){fragment.appendChild(childNodes[0])}return fragment},applyStyles:function(el,styles){if(styles){if(typeof styles=="function"){styles=styles.call()}if(typeof styles=="string"){styles=Ext.dom.Element.parseStyles(styles)}if(typeof styles=="object"){Ext.fly(el,"_applyStyles").setStyle(styles)}}},createHtml:function(spec){return this.markup(spec)},doInsert:function(el,o,returnElement,pos,sibling,append){el=el.dom||Ext.getDom(el);var newNode;if(this.useDom){newNode=this.createDom(o,null);if(append){el.appendChild(newNode)}else{(sibling=="firstChild"?el:el.parentNode).insertBefore(newNode,el[sibling]||el)}}else{newNode=this.insertHtml(pos,el,this.markup(o))}return returnElement?Ext.get(newNode,true):newNode},overwrite:function(el,html,returnElement){var newNode;el=Ext.getDom(el);html=this.markup(html);if(Ext.isIE&&this.tableRe.test(el.tagName)){while(el.firstChild){el.removeChild(el.firstChild)}if(html){newNode=this.insertHtml("afterbegin",el,html);return returnElement?Ext.get(newNode):newNode}return null}el.innerHTML=html;return returnElement?Ext.get(el.firstChild):el.firstChild},insertHtml:function(where,el,html){var hashVal,range,rangeEl,setStart,frag;where=where.toLowerCase();if(el.insertAdjacentHTML){if(Ext.isIE&&this.tableRe.test(el.tagName)&&(frag=this.insertIntoTable(el.tagName.toLowerCase(),where,el,html))){return frag}if(hashVal=fullPositionHash[where]){if(Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction){MSApp.execUnsafeLocalFunction(function(){el.insertAdjacentHTML(hashVal[0],html)})}else{el.insertAdjacentHTML(hashVal[0],html)}return el[hashVal[1]]}}else{if(el.nodeType===3){where=where==="afterbegin"?"beforebegin":where;where=where==="beforeend"?"afterend":where}range=Ext.supports.CreateContextualFragment?el.ownerDocument.createRange():undefined;setStart="setStart"+(this.endRe.test(where)?"After":"Before");if(bb_ae_PositionHash[where]){if(range){range[setStart](el);frag=range.createContextualFragment(html)}else{frag=this.createContextualFragment(html)}el.parentNode.insertBefore(frag,where==beforebegin?el:el.nextSibling);return el[(where==beforebegin?"previous":"next")+"Sibling"]}else{rangeEl=(where==afterbegin?"first":"last")+"Child";if(el.firstChild){if(range){range[setStart](el[rangeEl]);frag=range.createContextualFragment(html)}else{frag=this.createContextualFragment(html)}if(where==afterbegin){el.insertBefore(frag,el.firstChild)}else{el.appendChild(frag)}}else{el.innerHTML=html}return el[rangeEl]}}Ext.Error.raise({sourceClass:"Ext.DomHelper",sourceMethod:"insertHtml",htmlToInsert:html,targetElement:el,msg:'Illegal insertion point reached: "'+where+'"'})},createTemplate:function(o){var html=this.markup(o);return new Ext.Template(html)}}}(),function(){Ext.ns("Ext.core");Ext.DomHelper=Ext.core.DomHelper=new this});