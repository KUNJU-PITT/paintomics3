Ext.define("Ext.util.ElementContainer",{childEls:[],constructor:function(){var me=this,childEls;if(me.hasOwnProperty("childEls")){childEls=me.childEls;delete me.childEls;me.addChildEls.apply(me,childEls)}},destroy:function(){var me=this,childEls=me.getChildEls(),child,childName,i,k;for(i=childEls.length;i--;){childName=childEls[i];if(typeof childName!="string"){childName=childName.name}child=me[childName];if(child){me[childName]=null;child.remove()}}},addChildEls:function(){var me=this,args=arguments;if(me.hasOwnProperty("childEls")){me.childEls.push.apply(me.childEls,args)}else{me.childEls=me.getChildEls().concat(Array.prototype.slice.call(args))}me.prune(me.childEls,false)},applyChildEls:function(el,id){var me=this,childEls=me.getChildEls(),baseId,childName,i,selector,value;baseId=(id||me.id)+"-";for(i=childEls.length;i--;){childName=childEls[i];if(typeof childName=="string"){value=el.getById(baseId+childName)}else{if(selector=childName.select){value=Ext.select(selector,true,el.dom)}else if(selector=childName.selectNode){value=Ext.get(Ext.DomQuery.selectNode(selector,el.dom))}else{value=el.getById(childName.id||baseId+childName.itemId)}childName=childName.name}me[childName]=value}},getChildEls:function(){var me=this,self;if(me.hasOwnProperty("childEls")){return me.childEls}self=me.self;return self.$childEls||me.getClassChildEls(self)},getClassChildEls:function(cls){var me=this,result=cls.$childEls,childEls,i,length,forked,mixin,mixins,name,parts,proto,supr,superMixins;if(!result){supr=cls.superclass;if(supr){supr=supr.self;parts=[supr.$childEls||me.getClassChildEls(supr)];superMixins=supr.prototype.mixins||{}}else{parts=[];superMixins={}}proto=cls.prototype;mixins=proto.mixins;for(name in mixins){if(mixins.hasOwnProperty(name)&&!superMixins.hasOwnProperty(name)){mixin=mixins[name].self;parts.push(mixin.$childEls||me.getClassChildEls(mixin))}}parts.push(proto.hasOwnProperty("childEls")&&proto.childEls);for(i=0,length=parts.length;i<length;++i){childEls=parts[i];if(childEls&&childEls.length){if(!result){result=childEls}else{if(!forked){forked=true;result=result.slice(0)}result.push.apply(result,childEls)}}}cls.$childEls=result=result?me.prune(result,!forked):[]}return result},prune:function(childEls,shared){var index=childEls.length,map={},name;while(index--){name=childEls[index];if(typeof name!="string"){name=name.name}if(!map[name]){map[name]=1}else{if(shared){shared=false;childEls=childEls.slice(0)}Ext.Array.erase(childEls,index,1)}}return childEls},removeChildEls:function(testFn){var me=this,old=me.getChildEls(),keepers=me.childEls=[],n,i,cel;for(i=0,n=old.length;i<n;++i){cel=old[i];if(!testFn(cel)){keepers.push(cel)}}}});