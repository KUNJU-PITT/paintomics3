Ext.define("Ext.draw.engine.ImageExporter",{singleton:true,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(surface,config){config=config||{};var me=this,type=config.type,form;if(Ext.Array.indexOf(me.supportedTypes,type)===-1){return false}form=Ext.getBody().createChild({tag:"form",method:"POST",action:config.url||me.defaultUrl,cls:me.formCls,children:[{tag:"input",type:"hidden",name:config.widthParam||me.widthParam,value:config.width||surface.width},{tag:"input",type:"hidden",name:config.heightParam||me.heightParam,value:config.height||surface.height},{tag:"input",type:"hidden",name:config.typeParam||me.typeParam,value:type},{tag:"input",type:"hidden",name:config.svgParam||me.svgParam}]});form.last(null,true).value=Ext.draw.engine.SvgExporter.generate(surface);form.dom.submit();form.remove();return true}});