Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:"Ext.XTemplateCompiler",emptyObj:{},apply:function(values,parent){return this.applyOut(values,[],parent).join("")},applyOut:function(values,out,parent){var me=this,compiler;if(!me.fn){compiler=new Ext.XTemplateCompiler({useFormat:me.disableFormats!==true,definitions:me.definitions});me.fn=compiler.compile(me.html)}try{me.fn(out,values,parent||me.emptyObj,1,1)}catch(e){Ext.log("Error: "+e.message)}return out},compile:function(){return this},statics:{getTpl:function(instance,name){var tpl=instance[name],owner;if(tpl&&!tpl.isTemplate){tpl=Ext.ClassManager.dynInstantiate("Ext.XTemplate",tpl);if(instance.hasOwnProperty(name)){owner=instance}else{for(owner=instance.self.prototype;owner&&!owner.hasOwnProperty(name);owner=owner.superclass){}}owner[name]=tpl;tpl.owner=owner}return tpl||null}}});