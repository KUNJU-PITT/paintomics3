Ext.define("Ext.ux.grid.filter.StringFilter",{extend:"Ext.ux.grid.filter.Filter",alias:"gridfilter.string",iconCls:"ux-gridfilter-text-icon",emptyText:"Enter Filter Text...",selectOnFocus:true,width:125,init:function(config){Ext.applyIf(config,{enableKeyEvents:true,labelCls:"ux-rangemenu-icon "+this.iconCls,hideEmptyLabel:false,labelSeparator:"",labelWidth:29,listeners:{scope:this,keyup:this.onInputKeyUp,el:{click:function(e){e.stopPropagation()}}}});this.inputItem=Ext.create("Ext.form.field.Text",config);this.menu.add(this.inputItem);this.menu.showSeparator=false;this.updateTask=Ext.create("Ext.util.DelayedTask",this.fireUpdate,this)},getValue:function(){return this.inputItem.getValue()},setValue:function(value){this.inputItem.setValue(value);this.fireEvent("update",this)},isActivatable:function(){return this.inputItem.getValue().length>0},getSerialArgs:function(){return{type:"string",value:this.getValue()}},validateRecord:function(record){var val=record.get(this.dataIndex);if(typeof val!="string"){return this.getValue().length===0}return val.toLowerCase().indexOf(this.getValue().toLowerCase())>-1},onInputKeyUp:function(field,e){var k=e.getKey();if(k==e.RETURN&&field.isValid()){e.stopEvent();this.menu.hide();return}this.updateTask.delay(this.updateBuffer)}});