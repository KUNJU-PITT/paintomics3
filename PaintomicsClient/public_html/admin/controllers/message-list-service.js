(function(){var app=angular.module("messages.messages.message-list",[]);app.factory("MessageList",["$rootScope",function($rootScope){var messages=[];var availableSpace=0;var filters=[];var old=new Date(0);return{getMessages:function(){return messages},setMessages:function(messageList){messages=this.adaptMessagesInformation(messageList);old=new Date;return this},setAvailableSpace:function(_availableSpace){availableSpace=_availableSpace},updateMessages:function(newMessages,soft){return this},getMessage:function(message_id){for(var i in messages){if(messages[i].id===message_id){return messages[i]}}return null},addMessage:function(message){messages.push(this.adaptMessageInformation(message));return this},deleteMessage:function(message_id){for(var i in messages){if(messages[i].id===message_id){messages.splice(i,1);return messages}}return null},adaptMessagesInformation:function(messages){for(var i in messages){this.adaptMessageInformation(messages[i])}return messages},adaptMessageInformation:function(message){return message},getFilters:function(){return filters},setFilters:function(_filters){filters=_filters;return this},removeFilter:function(_filter){var pos=filters.indexOf(_filter);if(pos!==-1){filters.splice(pos,1)}return this},getOld:function(){return(new Date-old)/12e4}}}])})();